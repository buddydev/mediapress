=== MediaPress ===
Contributors: buddydev,sbrajesh,raviousprime,pressprogrammer
Tags: buddypress, buddypress gallery, buddypress photo gallery, video gallery, media
Requires at least: 5.0
Tested up to: 6.8.2
Stable tag: 1.6.0
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

MediaPress is the most advanced and feature rich media gallery plugin for BuddyPress & WordPress.

== Description ==

MediaPress is a modern media gallery solution for WordPress & BuddyPress. At the moment, MediaPress is almost(We need you to decide) the best option available for BuddyPress photo gallery, BuddyPress video gallery, BuddyPress audio and BuddyPress documents gallery.

If you are looking for a lightweight, feature rich BuddyPress Media Gallery solution that provides pleasant experience for your users, Please give a try to MediaPress.

MediaPress has modular architecture, that makes it easier for developers to extend while keeping the code simple to maintain.

It is built to be reliable, scalable, secure and flexible. We have worked hard to make it easy to use and we will love your feedback in making it better.

MediaPress core comes packed with powerful features, some of which are listed below:-


= For WordPress:- = 

 * WordPress Sitewide Photo Gallery, Video Gallery, Audio Gallery, Document Gallery
 * Front End Gallery Creation and upload
 * Allows adding videos from youtube, vimeo facebook etc to BuddyPress Activity and Gallery.
 * Add remote media using link(oembed or direct link to remote file).
 * Most awesome Gallery creation & Management via Dashboard(try and you will love it) 
 * Flexible Privacy for photo, video, audio and other media types
 * Easily extensible Gallery/Media Views
 * If you are a theme designer, you can rewrite whole layout using your own templates
 * Extensive admin options
 * We will improve it a lot more for WordPress in future

MediaPress gives full control to the site admins while making it easier for them/their users to upload media.

= For BuddyPress, MediaPress provides following features:- =
	
 * BuddyPress activity wall upload for videos/audio/photos/documents
 * BuddyPress Photo Gallery, BuddyPress Video Gallery, BuddyPress Audio Gallery and Document Gallery for users and groups
 *  Add youtube video, facebook video, photo etc to BuddyPress/WordPress(using oembed).
 * Add video, photos from another server using link.
 * Highly flexible privacy system (Inbuilt support for public, private, logged in, friends only, groups only, following only, followers only privacy)
 * Drag and Drop Uploader
 * Easy to extend API for other components
 * Easy to extend API to support [new media types](https://buddydev.com/mediapress/topics/api-reference/core/media-type/mpp_register_type/ "Registering new media type " )
 * Multiple Layout for media(Grid, playlist, list)
 * Playlist view support for audio/Video Galleries
 * Shortcode for everything you want(almost).
 * Widgets to help you list galleries, media, playlist , audio etc.
 * Extensive [admin options](https://buddydev.com/mediapress/topics/getting-started/settings-options/configuring-mediapress/ "Configuring MediaPress").

= Are you a developer? =

Here is a short list of things you can do with few lines of code:-

*	Use a different storage manager( we support local uploads in core, you can write one for the cloud, check core/storage/storage-manager.php for details)
*	Add support for a new [Media Type](https://buddydev.com/mediapress/topics/api-reference/core/media-type/mpp_register_type/).
*	Write a custom media loop using [MPP_Media_Query](https://buddydev.com/mediapress/topics/api-reference/core/mpp_media_query/)
*	Write your own custom Gallery loop/list using [MPP_Gallery_Query](https://buddydev.com/mediapress/topics/api-reference/core/mpp_gallery_query/)

We have also got some nice developer documentation ready for you and more will keep coming in future.


= Links =

*	[MediaPress Site](https://buddydev.com/mediapress/ "MediaPress site" )
*	[Demo]( http://demos.buddydev.com/mediapress/ "MediaPress demo")
*	[Support](https://buddydev.com/support/forums/)
*	[Github Development Repo](https://github.com/buddydev/mediapress)
*	[API Guides](https://buddydev.com/mediapress/guides/api-guides/)
*	[Admin Guide](https://buddydev.com/mediapress/guides/getting-started/)
*	[API Reference](https://buddydev.com/mediapress/guides/api-reference/) - progressing
*	[Template Tags](https://buddydev.com/mediapress/guides/api-reference/template-tags/)
*   [Uploader Javascript Event Lifecycle](https://buddydev.com/mediapress/topics/api-guides/mediapress-uploader-events-lifecycle/)
*   [Lighbox Javascript API](https://buddydev.com/mediapress/topics/api-guides/lightbox/mediapress-lightbox-javascript-api/)
*	More to come soon.

= Let us build MediaPress together =
We are working on the next version of MediaPress that uses a different uploader and allows adding media with the activity comments too.
Our expectation is to have it by the end of the year.
Please help us create it better by testing the plugin from [https://github.com/buddydev/mediapress](https://github.com/buddydev/mediapress) and providing your suggestions at BuddyDev support forum or our github repo.

If you are looking to extend MediaPress further, we have some free and paid addons for you

= Extending with Addons =
Here are some of our available addons for MediaPress.

*	[MediaPress Media Moderator](https://buddydev.com/plugins/media-moderator-for-mediapress/)
*	[MediaPress Media View Counter](https://buddydev.com/plugins/mpp-media-view-counter/) - Free
*	[MediaPress Media Rating](https://buddydev.com/plugins/mpp-media-rating/) - Free
*	[MediaPress Featured Content](https://wordpress.org/plugins/mpp-featured-content/) - Free
*	[MediaPress Set Profile Photo](https://buddydev.com/plugins/mpp-set-profile-photo/) - Free
*	[MediaPress myCRED Addon](https://buddydev.com/plugins/mediapress-mycred-addon/) - Free
*	[MediaPress Downloadable Media](https://buddydev.com/plugins/mpp-downloadable-media/)
*	[MediaPress Upload Terms of Service](https://buddydev.com/plugins/mpp-upload-tos/)
*	[MediaPress S2Member Storage Limit](https://buddydev.com/plugins/mpp-s2member-storage-limit/)
*	[MediaPress Flexible Storage Limit](https://buddydev.com/plugins/mpp-flexible-storage-limit/)
*	[MediaMark:- Watermarking solution for MediaPress](https://buddydev.com/plugins/mediamark/)
*	[MediaPress Paid Memberships Pro Restrictions](https://buddydev.com/plugins/paid-memberships-pro-restrictions-for-mediapress/)
*	more coming soon

**Looking for more powerful BuddyPress plugins?** Check out our list of amazing [BuddyPress plugins](https://buddydev.com/plugins/).

We are here to help with everything you need with MediaPress.
Please use BuddyDev community forum or premium forums for support(We support both free & paid members without any differentiation ).

MediaPress is young, If there is a feature that you need, please let us know at our forums. We will be happy to have it if it is going to help the community.
MediaPress is a community project and we welcome all contributions, be it with Ideas, technical or anything you deem fit.

If you are a developer, let us work together. Please use github repo for development.

= BuddyPress & MediaPress Maintenance & Custom development =
If you need any assistance with setting up or adding new features to BuddyPress or MediaPress, Our team is available for hire.
Please use our [BuddyPress Development Services](https://buddydev.com/buddypress-custom-plugin-development-service/) for any custom development needs.


== Installation ==

This section describes how to install the plugin and get it working.

You may use our [Installation guide](https://buddydev.com/mediapress/guides/getting-started/installation-updating/ "Installation guide") (recommended) or follow the following steps.

1. Download `mediapress.xyz.zip` (where xyz is version number )and extract
1. Upload `mediapress` directory to the `/wp-content/plugins/` directory
1. Activate the plugin through the 'Plugins' menu in WordPress
1. Visit Dashboard->MediaPress->Settings and click save ( It is important )
1. That's all. Go ahead and start uploading.
1. Want to understand each setting, please see our [Configuration guide](https://buddydev.com/mediapress/topics/getting-started/settings-options/configuring-mediapress/ "MediaPress Configuration guide")

== Frequently Asked Questions ==

= Where do I get support? =
We request you to use [BuddyDev Forums](https://buddydev.com/support/forums/) for all the support questions. We love helping. Using BuddyDev forums allows us to assist you better and quicker.

= Theme compatibility Issue =
By default, MediaPress should work with 99% of the themes out of the box. There are still a small chance that it may have issues with some theme. 
Please let us know and we will support you. We are working on guides for theme developers to assist them supporting and making it look/feel like they want.

= Can I use it with BuddyBoss? =
No. It is not compatible with BuddyBoss. We recommend using their own media solution.

= I have trouble using it with BuddyPress 12.0+? =
Please install [BP Classic](https://wordpress.org/plugins/bp-classic/) plugin to make it work with BuddyPress 12.0+.

== Screenshots ==

1. Activity upload screen screenshot-1.png
2. Adding Youtube/Vimeo videos to BuddyPress Activity screenshot-8.png
2. Media grid screenshot screenshot-2.png
3. User Galleries Screenshot screenshot-3.png
4. Youtube/Vimeo videos in activity screenshot-9.png
5. Youtube vimeo videos in gallery screenshot-10.png
6. Admin Gallery Edit Page screenshot screenshot-4.png
7. Front end gallery manage page screenshot-5.png
8. Bulk Media Edit screenshot screenshot-6.png
9. Admin settings screenshot screenshot-7.png

Please see the demo or the MediaPress site for more screenshots.

== Changelog ==
= 1.6.0 =
 * Fixed security issue allowing contributors to include local file inclusion in shortcodes. Props zaim via Patchstack.
 * Updated deprecated BuddyPress url fucntions with the alternative when available.
 * Added redirect on sitewide gallery archive if BuddyPress Gallery directory is enabled.
 * Fixed media/gallery permalink trailing slash issue on sites not using trailing slash in permalinks.

= 1.5.9.1 =
 * Fixed an issue to include the currently uploaded file size in the total used space.

= 1.5.9 =
 * Fixed function argument at the time of calling.

= 1.5.8 =
 * Added an option to Settings->Theming->Lightbox section to disable linking of photo to their permalink.
 * This release has 2 changes in template files(mediapress/default/gallery/media/views/lightbox/photo.php and mediapress/default/gallery/media/views/lightbox/media-info.php).
  If you are overriding these templates, please update your template files.

= 1.5.7 =
 * Fixed mime type not being stored for some of the media types.

= 1.5.6 =
 * Fixed single gallery issue with FSE themes. Props Andy.

= 1.5.5 =
 * Ensure media cache gets always clear on media delete.

= 1.5.4 =
 * Ensure that extensions are typecast to array before looping.

= 1.5.3 =
 * Tested with PHp 8.1 & WordPress 6.1.
 * Fixed a compatibility issue with WP Cerber plugin

= 1.5.2 =
 * Fixed a notice thrown by php when transient did not return array for the directory size cache.

= 1.5.1 =
 * Add WordPress 5.5 compatibility

= 1.5.0 =
 * Add gallery view id to gallery css classes.
 * Allow filtering shortcode templates.

= 1.4.9 =
 * Fix support for Facebook video.
 * Add better directory support for BP Nouveau template pack.

= 1.4.8 =
 * Add icon to close the activity uploader.
 * Fix directory filtering for some theme expecting json response.
 * Make the object counting flexible by allowing meta query.
 * Fix a js notice for query extraction from url.
 * Better Compatibility with Community Builder Theme.

= 1.4.7 =
 * Fix mpp-show-gallery shortcode to only list relevant media.
 * Fix upload error for first upload when default privacy is not public for wall.
 * Fix option to disable auto file chooser for browsers.
 * Add a filter to disable local uploads(only for single gallery upload page).

= 1.4.6 =
 * Fix jQuery conflict issue due to non scoped use of $. Props @raviousprime .
 * Add a filter for media comment. Props Charles.
 * Fix the activity action string for single media.

= 1.4.5 =
 * Allow remote only media mode(MediaPress->Settings->General->Add/Upload media setting).
 * Allow lightbox to be disabled for specific media types.
 * Don't delete MediaPress notifications for user. Mark them as read instead.
 * Using css flexbox for lighbox layout.
 * Cache user gallery count for better performance.
 * If you want to enable single media upload activity comments to be visible on media wall, please use the filter 'mpp_use_single_media_upload_as_media_activity'.

= 1.4.4 =
 * Fix the activity action showing html with BP Nouveau template pack.
 * Fix the notices with taxonomy registration
 * Add 2 new template actions.

= 1.4.3 =
 * Added Lightbox option to use media only lightbox. See mediapress->Settings->Themes panel.
 * Add the oembed media view support in widgets.
 * Add the oembed media view support in shortcodes.
 * Better sitewide gallery support.
 * Update gallery admin visibility to check for permission against individual management menu items.

= 1.4.2 =
 * Fix Media widget fto use proper context.
 * Remove create_function in favor of closures.

= 1.4.1 =
 * Fix the media editing breaking oembed media
 * Change activity action string to be more consistent.

= 1.4.0 =
 * Added support for oembed videos/photos(videos from youtube, vimeo, facebook etc).
 * Added support for adding direct link to remote media(audio,video,photo doc etc)
 * Option to automatically download remote media to the server
 * Added filter to enable media/gallery comment.
 * A lot of other enhancements.
 * For more details, please see the [blog post](https://buddydev.com/mediapress-1-4-0-and-support-for-remote-media/)

= 1.3.7 =
 * Add compatibility with BuddyPress 3.0 Nouveau template pack for empty activity with media attachment.
 * Add namespaced js events
 * Minor enhancements to media upload list

= 1.3.6 =
 * Fix Original size not being used in the lightbox/Single Media page.
 * Add Compatibility with Sitewide Activity Widget.
 * Add API to allow saving binary data as media.
 * Allow 0 to be a valid storage value.
 * Re-written javascript API for lightbox. [Docs](https://buddydev.com/mediapress/topics/api-guides/lightbox/mediapress-lightbox-javascript-api/)
 * API for importing WordPress attachment to MediaPress gallery as MediaPress media. [Docs](https://buddydev.com/mediapress/topics/api-reference/media/import-wordpress-attachment-mediapress-gallery/)
 * API to import file from server's directory to MediaPress Gallery. [Docs](https://buddydev.com/mediapress/topics/api-reference/media/importing-file-mediapress-gallery/)
 * Javascript API for hooking into the lifecycle of MediaPress Uploads. [Docs](https://buddydev.com/mediapress/topics/api-guides/mediapress-uploader-events-lifecycle/)

= 1.3.5 =
 * Fix ios activity upload button issue. Thank you Aubrey.
 * Add 'for' option for Media/Galley shortcode to use 'logged', 'displaye', 'author' context.
 * Add support for Logged In User/Displayed User context in the media/galelry widget.
 * Fix compatibility with Gravity Form Registration addon.
 * Other enhancements to the uploader.

= 1.3.4 =
 * Fix deleted gallery causing "The gallery is not selected" issue.
 * Fix autoloader path to avoid fatal on Admin settings on some of the installs.
 * Fix the visibility of Gallery/media by detaching the pre_get_posts hook and reattaching it after our query.

= 1.3.3 =
 * Fix Gallery menu item visibility on private groups. Thank you Graham.
 * Fix php notice when user is being deleted(in the cleanup section).
 * Coding style for admin settings section to follow WordPress Coding standards now.

= 1.3.2 =
 * Fix opening of the incorrect media when opening from activity(Regression caused by 1.3.1).
 * Fix document files not opening directly from activity when google doc viewer is disabled.
 * If you are overriding mediapress/default/buddypress/activity/(any of the activity templates), Please update your template file.

= 1.3.1 =
 * Fix issue with crop settings. Crop settings were not applied properly and was always forcing to crop(issue caused by 1.3.0) . Thanks @petrha
 * Fix Prev/Next media issue with sorted gallery. Thanks to @georgio-1 .
 * Added option to enable/disable google doc viewer for documents.
 * Improved the document viewing option by detecting file type and directly linking to file if it can't be viewed.
 * Documents list improvement. Added title everywhere.
 * Lightbox improvement for the documents.
 * Better activity listing for doc items.
 * Some more internal improvements.

= 1.3.0 =
 * Allow lightbox for all media type(document lightbox may not work on local installs).
 * Improved lightbox for mobile devices.
 * Include galleries with 'logged in' status on directory too.
 * Better Activity upload:- Disable post button when media is still loading.
 * Enable lightbox on activity comment. Opens a better lightbox.
 * Allow opening gallery/media in lightbox from any link with proper data attributes.
 * Allow resetting MediaPres settings to default.
 * Improved upload, hardened tests for status and type.
 * On Create Gallery, make sure to test for supported status/type and component enable state.
 * Display storage stats for groups too.
 * Add close button in the lightbox.
 * Display media title in the lightbox.
 * Changed default sitewide gallery slug to 'site-gallery' and sitewide archive to 'sitewide-galleries'. Please feel free to change it.
 * Fix:- Empty activity on single page.
 * Fix:- Media reordering on the mobile devices.
 * Fix:- Crop notice.
 * Fix:- Lightbox showing only 10 images.
 * Note:- There are change sin the activity media list template. If you are overriding it, please consider updating.

= 1.2.0 =
 * Security Fix:- Unauthorized users should not be able to bulk update media.
 * Security Enhancement:- Do not allow unauthorized users to view edit screen.
 * Many code improvements to allow us streamline future developments.
 * Code refactoring for core, media, widget, shortcodes. Added doc comments.
 * Added filters on media views/gallery views.

= 1.1.9 =
 * New feature: Allow editing media details inside the lightbox.
 * Fix: Better previous/next link for media and gallery.
 * Note: the template for lightbox-comment.php has been updated for allowing editing media.

= 1.1.8 =
 * Fix: Upload permission error caused by 1.1.7. Reverting strict type checking in permissions functions as it cause issues with the normal user upload.
 * Fix: translation for the Bulk Actions, delete label.

= 1.1.7 =
 * Add option to show the maximum allowed file size inside the upload dropzone.
 * Fix WP_Query notice on profile galleries when static page is set as front page.
 * Hide activity upload buttons when user does not have permission to upload.
 * Better performing user gallery count and media count functions.
 * Compatibility with activity as wire and wall plugin to allow posting on other user's wall.


= 1.1.6 =
 * Fix bug from 1.1.5 that caused listing of sitewide galleries on user profile(sorry for the 1.5 hour of trouble).
 * Fix pagination links on ajax loaded gallery list.

= 1.1.5 =
 * Site admins can choose which image size to use in lightbox.
 * Site admins can choose which image size to use for single media page.
 * Media Type labels are now translatable.
 * Activity actions containing type labels are translatable.
 * Added filter 'mpp_wall_gallery_title' to easily modify the naming convention for the wall gallery.
 * Added support for showing the gallery creator when using the shortcode [mpp-list-gallery].
 * Added support for showing the media creator when using the shortcode [mpp-show-gallery].
 * Added support for showing the media creator when using the shortcode [mpp-list-media].
 * A lot of inline code documentation and cleaning(Will continue for next 2 releases)

= 1.1.4 =
 * Add smaller loader image for better usability.
 * Creating a new version since wp.org is not regenerating the old zip.

= 1.1.3 =
 * Allow uploading from activity stream without needing to post content. It make the uploading more easier and user friendly.
 * Add options to allow site admin control the media size and cropping behaviour. Size settings are available from MediaPress->Settings->General screen.
 * Use 'large' image size instead of the original on single media page and lightbox.
 * Better lightbox comment.

= 1.1.2 =
 * Add filter  'mpp_used_space' to allow filtering total used space.
 * Fix the callback for 'private' status to check for the user id instead of relaying on the bp_is_my_profile()

= 1.1.1 =
 * Better caching support. Cleans up media/gallery after update.
 * Introducing multiple new template tags.
 * Updated the templates and MPP_Gallery View to accept activity id too. Any child view should update..
 * Added admin notice to ask the admins to save the settings atleast once.

= 1.1.0 =
 * Added option to enable lightbox for clicking on photo inside gallery.
 * Brand new icon images for photo, video, audio, doc uploads.
 * Fixed the lightbox not loading all photos.
 * Fixed the error "This file type is not allowed" when the extensions had space
 * Fixed raw media description on bulk edit page to avoid showing the html inside text area.
 * Fixed delete warning text.
 * API Enhancement, allow excluding/including media in queries.
 * A lot of code cleanup

= 1.0.9 =
 * Fixed the recursion causing error on gallery delete.

= 1.0.8 =
 * MediaPress Tools screen warning fix for the Browser class.
 * Almost 30% of codebase inline documentation updated, more to follow.
 * Fix path error for loading logger class.
 * mpp-show-gallery shortcode now defaults to grid if not view is specified.
 * Better current component handling when BuddyPress is disabled.
 * Allow using custom taxonomy query in MPP_Media_Query and MPP_Gallery_Query
 * Improve css class names and a few other small tweaks.


= 1.0.7 =
 * Fix upload shortcode to avoid it generating the form at the top.
 * Fix Private status issue in groups.
 * Fix single media edit form layout opn mobile devices.
 * Template cleanup
 * User Gallery edit/delete permissions are more granular now.
 * Add filter 'mpp_gallery_auto_update_cover' to allow disabling the auto update of cover to first photo.
 * Fix to respect the default group gallery preference at group creation.
 * Fix date related template functions to show correct date.

= 1.0.6 =
 * Numerous accessibility improve. Huge thanks to @mercime for the contribution.
 * Fix the js error on media edit page. Thank you Sarah( @sitesforchrist )
 * Fix Uploading to group gallery from sitewide activity. Thank you Leo, @valuser
 * Fix the issue which caused attachments to not work on activity screen for some of the users.
 * Added functions fro moving media from one gallery to another gallery.
 * Added support for ondemand gallery creation using the mpp_get_context_gallery hook
 * Updated default archive/single gallery permalink slug to use same string 'galleries'


= 1.0.5 =
 * Fix the problem with media upload on new gallery screen in the dashboard
 * Fix a fatal error on BuddyPress 2.6.0 when group is not active
 * Fix a few notices, thanks to @danbp
 * Allow replacing the media selector icons on activity from theme template
 * Use proper url schema for the google doc viewer(for https/non https sites)
 * Fix a few admin translations. Thanks to @danbp

= 1.0.4 =
 * Lightbox javascript API. Now developers can leverage our lightbox Javascript API to open media, list of media in lightbox.
 * Enabling Lightbox for Media list shortcode using lightbox=1 in the shortcode.
 * Enabling lightbox when clicking on single photo in the activity comment on photo.
 * Fix lightbox settings to be applied properly(enabling/disabling).
 * Adding basic debug info for Media.
 * Default status is set to public for media list shortcode to avoid listing private media.
 * Fix Wall Gallery issue with the Doc type.
 * Single Media/Gallery Activity Fix:- Now, will show the activity from all members.
 * Limit number of media visible in activity stream.
 * Add "Galleries" link to User list in the admin for quickly viewing user galleries.
 * Implementation of the Orphaned Media deletion using wp cron.
 * Fallback to default view when the active view is not available.
 * Release notes in details: [Link](https://buddydev.com/mediapress-development/mediapress-1-0-4-availa-now/)

= 1.0.3 =
 * Added pagination support in shortcodes.
 * Fixed Gallery directory pagination.
 * Updated activity privacy to be stricter when the Activity privacy plugin is not enabled.
 * Fixed avatar issue in lightbox.
 * Enhanced the [mpp-uploader] shortcode. It fixes an issue when uploads are for sitewide galleries and provides better experience.
 * Enhanced Create gallery status dropdown to use the default status by default.
 * Fix 2 typos in strings. Thanks to Joost(@joost-abrahams ).
 * Numerous other subtle enhacements ( like allowing extending shortcode etc).

= 1.0.2 =
 * Fixed double form issue on Create gallery page.
 * Fixed a typo in method name for loading templates.
 * Please upgrade if you are seeing double form on create gallery page.

= 1.0.1 =
 * Added uploader shortcode [mpp-uploader].
 * Added My Gallery filters for Group Galleries.
 * Added type filters for User Galleries.
 * Other enhancements.
 * Release notes: [Link](https://buddydev.com/mediapress-development/mediapress-1-0-1-is-available-now/)

= 1.0.0 =
 * Initial Release on wp.org repo.
